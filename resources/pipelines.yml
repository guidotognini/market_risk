resources:
  pipelines:
    fx_market_risk_medallion:
      name: ${var.pipeline_name}

      development: true
      continuous: false
      photon: false
      channel: CURRENT

      libraries:
        - file:
            path: ../DLT Pipeline - Medallion Architecture/bronze/bronze_daily_positions.sql
        - file:
            path: ../DLT Pipeline - Medallion Architecture/bronze/bronze_fx_daily_rates.sql
        - file:
            path: ../DLT Pipeline - Medallion Architecture/silver/silver_daily_positions.sql
        - file:
            path: ../DLT Pipeline - Medallion Architecture/silver/silver_fx_daily_rates.sql
        - file:
            path: ../DLT Pipeline - Medallion Architecture/silver/silver_fx_daily_rates_staging.sql
        - file:
            path: ../DLT Pipeline - Medallion Architecture/silver/silver_fx_daily_returns.sql
        - file:
            path: ../DLT Pipeline - Medallion Architecture/gold/gold_fct_var.sql

      target: tabular.dataexpert
      storage: /Volumes/tabular/dataexpert/guidotognini/market_risk/_dlt_storage

      clusters:
        - label: default
          num_workers: 1
          node_type_id: ${var.node_type}
          # policy_id: ${var.cluster_policy_id}

      # Optional: Notifications for pipeline failures
      # notifications:
      #   - email_recipients:
      #       - your-email@example.com
      #     alerts:
      #       - on-update-failure
      #       - on-update-fatal-failure